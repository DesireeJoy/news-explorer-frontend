{"ast":null,"code":"// export const BASE_URL = \"https://api.desinews.students.nomoreparties.site\";\n// export const register = (email, password, username) => {\n//   return fetch(`${BASE_URL}/signup`, {\n//     headers: {\n//       Accept: \"application/json\",\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify({ email, password, username })\n//   })\n//     .then(res => {\n//       if (res.status === 201 || res.status === 200) {\n//               console.log(\"Res received\")\n//         return res.json();\n//       }\n//     })\n//     .catch(err => {\n//       console.log(err);\n//     });\n// };\n// export const authorize = (email, password) => {\n//   return fetch(`${BASE_URL}/signin`, {\n//     method: \"POST\",\n//     headers: {\n//       Accept: \"application/json\",\n//       \"Content-Type\": \"application/json\"\n//     },\n//     body: JSON.stringify({ email, password })\n//   })\n//     .then(res => {\n//       return res.json();\n//     })\n//     .then(data => {\n//       localStorage.setItem(\"token\", data.token);\n//       return;\n//     })\n// };\n// export const checkToken = token => {\n//   return fetch(`${BASE_URL}/users/me`, {\n//     method: \"GET\",\n//     headers: {\n//       Accept: \"application/json\",\n//       \"Content-Type\": \"application/json\",\n//       Authorization: `Bearer ${token}`\n//     }\n//   })\n//     .then(res => {\n//       return res.json();\n//     })\n//     // .then(data => data){\n//     //   console.log(datea)\n//     // }\n// };\nconst token = localStorage.getItem(\"token\");\n;\n\nclass MainApi {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + 'users/me', {\n      headers: this._headers\n    }).then(res => {\n      if (res.ok) {\n        return res.json(); //this makes object out of response\n      }\n\n      return Promise.reject(`Error: ${res.status}`);\n    });\n  } // getArticles() {\n  //     return fetch(this._baseUrl + \"articles\", {\n  //         method: \"GET\",\n  //         headers: this._headers\n  //     })\n  //         .then(res => { return res.json() }\n  //         )\n  // }\n  // saveArticle({ title, description, url, urlToImage, publishedAt, keyword, source }) {\n  //     return fetch(this._baseUrl + 'articles', {\n  //         method: \"POST\",\n  //         headers: this._headers,\n  //         body: JSON.stringify({\n  //             title,\n  //             description,\n  //             url,\n  //             urlToImage,\n  //             publishedAt,\n  //             keyword,\n  //             source\n  //         })\n  //     })\n  //         .then(res => {\n  //             if (res.ok) {\n  //                 return res.json();//this makes object out of response\n  //             }\n  //             return Promise.reject(`Error: ${res.status}`)\n  //         })\n  // }\n  // removeArticle(articleId) {\n  //     return fetch(this._baseUrl + 'articles/' + articleId, {\n  //         method: \"DELETE\",\n  //         headers: this._headers\n  //     })\n  //         .then(res => {\n  //             if (res.ok) {\n  //                 return res.json();//this makes object out of response\n  //             }\n  //             return Promise.reject(`Error: ${res.status}`)\n  //         })\n  // }\n\n\n  register(email, password, username) {\n    console.log(this._baseUrl);\n    return fetch(this._baseUrl + 'signup', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        email,\n        password,\n        username\n      })\n    }).then(res => {\n      if (res.status === 201 || res.status === 200) {\n        return res.json();\n      }\n    });\n  }\n\n  authorize(email, password) {\n    return fetch(this._baseUrl + 'signin', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(res => {\n      return res.json();\n    });\n  }\n\n  checkToken(token) {\n    console.log(token);\n    return fetch(this._baseUrl + 'users/me', {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => res.json()).then(data => data);\n  }\n\n}\n\nexport const mainApi = new MainApi({\n  baseUrl: 'https://api.desinews.students.nomoreparties.site/',\n  headers: {\n    'Accept': \"application/json\",\n    'Content-Type': 'application/json',\n    \"Authorization\": `Bearer \n    ${token}`\n  }\n});","map":{"version":3,"sources":["/Users/desireebradish/news-explorer-frontend/src/utils/MainApi.js"],"names":["token","localStorage","getItem","MainApi","constructor","baseUrl","headers","_baseUrl","_headers","getUserInfo","fetch","then","res","ok","json","Promise","reject","status","register","email","password","username","console","log","method","body","JSON","stringify","authorize","checkToken","data","mainApi"],"mappings":"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","sourcesContent":["// export const BASE_URL = \"https://api.desinews.students.nomoreparties.site\";\n\n// export const register = (email, password, username) => {\n//   return fetch(`${BASE_URL}/signup`, {\n//     headers: {\n//       Accept: \"application/json\",\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify({ email, password, username })\n//   })\n//     .then(res => {\n//       if (res.status === 201 || res.status === 200) {\n//               console.log(\"Res received\")\n//         return res.json();\n//       }\n//     })\n//     .catch(err => {\n//       console.log(err);\n//     });\n// };\n\n\n\n// export const authorize = (email, password) => {\n//   return fetch(`${BASE_URL}/signin`, {\n//     method: \"POST\",\n//     headers: {\n//       Accept: \"application/json\",\n//       \"Content-Type\": \"application/json\"\n//     },\n//     body: JSON.stringify({ email, password })\n//   })\n//     .then(res => {\n     \n//       return res.json();\n//     })\n   \n//     .then(data => {\n      \n//       localStorage.setItem(\"token\", data.token);\n//       return;\n//     })\n  \n// };\n\n\n\n\n\n\n// export const checkToken = token => {\n//   return fetch(`${BASE_URL}/users/me`, {\n//     method: \"GET\",\n//     headers: {\n//       Accept: \"application/json\",\n//       \"Content-Type\": \"application/json\",\n//       Authorization: `Bearer ${token}`\n\n//     }\n//   })\n//     .then(res => {\n//       return res.json();\n  \n//     })\n//     // .then(data => data){\n//     //   console.log(datea)\n//     // }\n// };\nconst token = localStorage.getItem(\"token\");;\nclass MainApi {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    getUserInfo() {\n        return fetch(this._baseUrl + 'users/me', {\n            headers: this._headers\n        })\n            .then(res => {\n              \n                if (res.ok) {\n                    return res.json();//this makes object out of response\n                }\n                return Promise.reject(`Error: ${res.status}`)\n            })\n    }\n\n    // getArticles() {\n    //     return fetch(this._baseUrl + \"articles\", {\n    //         method: \"GET\",\n    //         headers: this._headers\n    //     })\n    //         .then(res => { return res.json() }\n    //         )\n    // }\n\n    // saveArticle({ title, description, url, urlToImage, publishedAt, keyword, source }) {\n    //     return fetch(this._baseUrl + 'articles', {\n    //         method: \"POST\",\n    //         headers: this._headers,\n    //         body: JSON.stringify({\n    //             title,\n    //             description,\n    //             url,\n    //             urlToImage,\n    //             publishedAt,\n    //             keyword,\n    //             source\n    //         })\n    //     })\n    //         .then(res => {\n    //             if (res.ok) {\n    //                 return res.json();//this makes object out of response\n    //             }\n    //             return Promise.reject(`Error: ${res.status}`)\n    //         })\n    // }\n\n    // removeArticle(articleId) {\n    //     return fetch(this._baseUrl + 'articles/' + articleId, {\n    //         method: \"DELETE\",\n    //         headers: this._headers\n    //     })\n    //         .then(res => {\n    //             if (res.ok) {\n    //                 return res.json();//this makes object out of response\n    //             }\n    //             return Promise.reject(`Error: ${res.status}`)\n    //         })\n    // }\n\n    register(email, password, username) {\nconsole.log(this._baseUrl)\n        return fetch(this._baseUrl + 'signup', {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({ email, password, username })\n        })\n            .then((res) => {\n               if (res.status === 201 || res.status === 200) {\n                    return res.json();\n               }\n            })\n    }\n\n    authorize(email, password) {\n        return fetch(this._baseUrl + 'signin', {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({ email, password })\n        })\n            .then(res => {\n                return res.json()\n            })\n    }\n\n    checkToken(token) {\n        console.log(token);\n        return fetch(this._baseUrl + 'users/me', {\n            method: 'GET',\n            headers: this._headers\n        })\n            .then(res => res.json())\n            .then(data => data)\n    }\n}\n\nexport const mainApi = new MainApi({\n    baseUrl: 'https://api.desinews.students.nomoreparties.site/',\n    headers: { 'Accept': \"application/json\", 'Content-Type': 'application/json', \"Authorization\": `Bearer \n    ${token}` }\n});"]},"metadata":{},"sourceType":"module"}