{"ast":null,"code":"import { apiKey } from \"./constants\";\n\nclass NewsApi {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._apiKey = apiKey;\n  }\n\n  getNewsCards(searchTerm) {\n    const date = new Date();\n    const thisDate = date.toISOString();\n    const pastDate = new Date(date.getTime() - 60 * 60 * 24 * 7 * 1000);\n    const fromDate = pastDate.toISOString();\n    return fetch(`${this._baseUrl}?q=${searchTerm}&from=${fromDate}&to=${thisDate}&sortBy=relevancy&apiKey=${this._apiKey}`).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(new Error(res.status));\n    }).then(res => res.articles);\n  }\n\n}\n\nexport const newsApi = new NewsApi({\n  baseUrl: 'https://nomoreparties.co/news/v2/everything',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n});","map":{"version":3,"sources":["/Users/desireebradish/news-explorer-frontend/src/utils/NewsAPI.js"],"names":["apiKey","NewsApi","constructor","baseUrl","headers","_baseUrl","_headers","_apiKey","getNewsCards","searchTerm","date","Date","thisDate","toISOString","pastDate","getTime","fromDate","fetch","then","res","ok","json","Promise","reject","Error","status","articles","newsApi"],"mappings":"AAAA,SAASA,MAAT,QAAuB,aAAvB;;AAGA,MAAMC,OAAN,CAAc;AACZC,EAAAA,WAAW,CAAC;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAD,EAAuB;AAChC,SAAKC,QAAL,GAAgBF,OAAhB;AACA,SAAKG,QAAL,GAAgBF,OAAhB;AACA,SAAKG,OAAL,GAAeP,MAAf;AACD;;AAEFQ,EAAAA,YAAY,CAACC,UAAD,EAAa;AAClB,UAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,UAAMC,QAAQ,GAAGF,IAAI,CAACG,WAAL,EAAjB;AACA,UAAMC,QAAQ,GAAG,IAAIH,IAAJ,CAASD,IAAI,CAACK,OAAL,KAAkB,KAAK,EAAL,GAAU,EAAV,GAAe,CAAf,GAAmB,IAA9C,CAAjB;AACA,UAAMC,QAAQ,GAAGF,QAAQ,CAACD,WAAT,EAAjB;AAGD,WAAOI,KAAK,CAAE,GAAE,KAAKZ,QAAS,MAAKI,UAAW,SAAQO,QAAS,OAAMJ,QAAS,4BAA2B,KAAKL,OAAQ,EAA1G,CAAL,CACPW,IADO,CACDC,GAAD,IAAQ;AACZ,UAAIA,GAAG,CAACC,EAAR,EAAW;AACT,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;;AACD,aAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAUL,GAAG,CAACM,MAAd,CAAf,CAAP;AACD,KANO,EAOPP,IAPO,CAOFC,GAAG,IAAIA,GAAG,CAACO,QAPT,CAAP;AASF;;AAvBS;;AA4Bd,OAAO,MAAMC,OAAO,GAAG,IAAI1B,OAAJ,CAAY;AAC/BE,EAAAA,OAAO,EAAE,6CADsB;AAE/BC,EAAAA,OAAO,EAAE;AAAE,oBAAgB;AAAlB,GAFsB;AAG/B,kBAAgB,kBAHe;AAI3B,YAAU;AAJiB,CAAZ,CAAhB","sourcesContent":["import { apiKey } from \"./constants\";\n\n\nclass NewsApi {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._apiKey = apiKey;\n  }\n  \n getNewsCards(searchTerm) {\n        const date = new Date();\n        const thisDate = date.toISOString();\n        const pastDate = new Date(date.getTime() - (60 * 60 * 24 * 7 * 1000));\n        const fromDate = pastDate.toISOString();\n\n\n       return fetch(`${this._baseUrl}?q=${searchTerm}&from=${fromDate}&to=${thisDate}&sortBy=relevancy&apiKey=${this._apiKey}`)\n      .then((res) =>{\n        if (res.ok){\n          return res.json();\n        }\n        return Promise.reject(new Error(res.status));\n      })\n      .then(res => res.articles);\n\n    }\n}\n\n\n\nexport const newsApi = new NewsApi({\n    baseUrl: 'https://nomoreparties.co/news/v2/everything',\n    headers: { 'Content-Type': 'application/json' },\n    'Content-Type': 'application/json',\n        'Accept': 'application/json'\n});"]},"metadata":{},"sourceType":"module"}