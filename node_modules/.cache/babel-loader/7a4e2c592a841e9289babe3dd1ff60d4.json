{"ast":null,"code":"import _classCallCheck from\"/Users/desireebradish/news-explorer-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/desireebradish/news-explorer-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";var token=localStorage.getItem(\"jwt\");;var MainApi=/*#__PURE__*/function(){function MainApi(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,MainApi);this._baseUrl=baseUrl;this._headers=headers;}_createClass(MainApi,[{key:\"getUserInfo\",value:function getUserInfo(){return fetch(this._baseUrl+'users/me',{headers:this._headers}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status));});}// getArticles() {\n//     return fetch(this._baseUrl + \"articles\", {\n//         method: \"GET\",\n//         headers: this._headers\n//     })\n//         .then(res => { return res.json() }\n//         )\n// }\n// saveArticle({ title, description, url, urlToImage, publishedAt, keyword, source }) {\n//     return fetch(this._baseUrl + 'articles', {\n//         method: \"POST\",\n//         headers: this._headers,\n//         body: JSON.stringify({\n//             title,\n//             description,\n//             url,\n//             urlToImage,\n//             publishedAt,\n//             keyword,\n//             source\n//         })\n//     })\n//         .then(res => {\n//             if (res.ok) {\n//                 return res.json();//this makes object out of response\n//             }\n//             return Promise.reject(`Error: ${res.status}`)\n//         })\n// }\n// removeArticle(articleId) {\n//     return fetch(this._baseUrl + 'articles/' + articleId, {\n//         method: \"DELETE\",\n//         headers: this._headers\n//     })\n//         .then(res => {\n//             if (res.ok) {\n//                 return res.json();//this makes object out of response\n//             }\n//             return Promise.reject(`Error: ${res.status}`)\n//         })\n// }\n},{key:\"register\",value:function register(email,password,username){return fetch(this._baseUrl+'signup',{method:'POST',headers:this._headers,body:JSON.stringify({email:email,password:password,username:username})}).then(function(res){return res.json();});}},{key:\"authorize\",value:function authorize(email,password){return fetch(this._baseUrl+'signin',{method:'POST',headers:this._headers,body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();});}},{key:\"checkToken\",value:function checkToken(token){console.log(\"Token is \"+token);return fetch(this._baseUrl+'users/me',{method:'GET',headers:this._headers}).then(function(res){return res.json();}).then(function(data){return data;});}}]);return MainApi;}();export var mainApi=new MainApi({baseUrl:'https://api.desinews.students.nomoreparties.site/',headers:{'Accept':\"application/json\",'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});","map":{"version":3,"sources":["/Users/desireebradish/news-explorer-frontend/src/utils/MainApi.js"],"names":["token","localStorage","getItem","MainApi","baseUrl","headers","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","status","email","password","username","method","body","JSON","stringify","console","log","data","mainApi"],"mappings":"4PAAA,GAAMA,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAd,CAA0C,C,GACpCC,CAAAA,O,yBACF,sBAAkC,IAApBC,CAAAA,OAAoB,MAApBA,OAAoB,CAAXC,OAAW,MAAXA,OAAW,+BAC9B,KAAKC,QAAL,CAAgBF,OAAhB,CACA,KAAKG,QAAL,CAAgBF,OAAhB,CACH,C,+CAED,sBAAc,CACV,MAAOG,CAAAA,KAAK,CAAC,KAAKF,QAAL,CAAgB,UAAjB,CAA6B,CACrCD,OAAO,CAAE,KAAKE,QADuB,CAA7B,CAAL,CAGFE,IAHE,CAGG,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,EAAR,CAAY,CAER,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CACD,MAAOC,CAAAA,OAAO,CAACC,MAAR,kBAAyBJ,GAAG,CAACK,MAA7B,EAAP,CACH,CATE,CAAP,CAUH,CAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;wBAEA,kBAASC,KAAT,CAAgBC,QAAhB,CAA0BC,QAA1B,CAAoC,CAChC,MAAOV,CAAAA,KAAK,CAAC,KAAKF,QAAL,CAAgB,QAAjB,CAA2B,CACnCa,MAAM,CAAE,MAD2B,CAEnCd,OAAO,CAAE,KAAKE,QAFqB,CAGnCa,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEN,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAmBC,QAAQ,CAARA,QAAnB,CAAf,CAH6B,CAA3B,CAAL,CAKFT,IALE,CAKG,SAACC,GAAD,CAAS,CACP,MAAOA,CAAAA,GAAG,CAACE,IAAJ,EAAP,CAEP,CARE,CAAP,CASH,C,yBAED,mBAAUI,KAAV,CAAiBC,QAAjB,CAA2B,CACvB,MAAOT,CAAAA,KAAK,CAAC,KAAKF,QAAL,CAAgB,QAAjB,CAA2B,CACnCa,MAAM,CAAE,MAD2B,CAEnCd,OAAO,CAAE,KAAKE,QAFqB,CAGnCa,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEN,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CAH6B,CAA3B,CAAL,CAKFR,IALE,CAKG,SAAAC,GAAG,CAAI,CACT,MAAOA,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CAPE,CAAP,CAQH,C,0BAED,oBAAWZ,KAAX,CAAkB,CAChBuB,OAAO,CAACC,GAAR,CAAY,YAAcxB,KAA1B,EACE,MAAOQ,CAAAA,KAAK,CAAC,KAAKF,QAAL,CAAgB,UAAjB,CAA6B,CACrCa,MAAM,CAAE,KAD6B,CAErCd,OAAO,CAAE,KAAKE,QAFuB,CAA7B,CAAL,CAIFE,IAJE,CAIG,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACE,IAAJ,EAAJ,EAJN,EAKFH,IALE,CAKG,SAAAgB,IAAI,QAAIA,CAAAA,IAAJ,EALP,CAAP,CAMH,C,uBAML,MAAO,IAAMC,CAAAA,OAAO,CAAG,GAAIvB,CAAAA,OAAJ,CAAY,CAC/BC,OAAO,CAAE,mDADsB,CAE/BC,OAAO,CAAE,CACP,SAAU,kBADH,CAET,eAAgB,kBAFP,CAGT,iCAA2BL,KAA3B,CAHS,CAFsB,CAAZ,CAAhB","sourcesContent":["const token = localStorage.getItem(\"jwt\");;\nclass MainApi {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    getUserInfo() {\n        return fetch(this._baseUrl + 'users/me', {\n            headers: this._headers,\n        })\n            .then(res => {\n                if (res.ok) {\n\n                    return res.json();\n                }\n                return Promise.reject(`Error: ${res.status}`)\n            })\n    }\n\n    \n\n    // getArticles() {\n    //     return fetch(this._baseUrl + \"articles\", {\n    //         method: \"GET\",\n    //         headers: this._headers\n    //     })\n    //         .then(res => { return res.json() }\n    //         )\n    // }\n\n    // saveArticle({ title, description, url, urlToImage, publishedAt, keyword, source }) {\n    //     return fetch(this._baseUrl + 'articles', {\n    //         method: \"POST\",\n    //         headers: this._headers,\n    //         body: JSON.stringify({\n    //             title,\n    //             description,\n    //             url,\n    //             urlToImage,\n    //             publishedAt,\n    //             keyword,\n    //             source\n    //         })\n    //     })\n    //         .then(res => {\n    //             if (res.ok) {\n    //                 return res.json();//this makes object out of response\n    //             }\n    //             return Promise.reject(`Error: ${res.status}`)\n    //         })\n    // }\n\n    // removeArticle(articleId) {\n    //     return fetch(this._baseUrl + 'articles/' + articleId, {\n    //         method: \"DELETE\",\n    //         headers: this._headers\n    //     })\n    //         .then(res => {\n    //             if (res.ok) {\n    //                 return res.json();//this makes object out of response\n    //             }\n    //             return Promise.reject(`Error: ${res.status}`)\n    //         })\n    // }\n\n    register(email, password, username) {\n        return fetch(this._baseUrl + 'signup', {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({ email, password, username })\n        })\n            .then((res) => {\n                    return res.json();\n           \n            })\n    }\n\n    authorize(email, password) {\n        return fetch(this._baseUrl + 'signin', {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({ email, password })\n        })\n            .then(res => {\n                return res.json()\n            })\n    }\n\n    checkToken(token) {\n      console.log(\"Token is \" + token)\n        return fetch(this._baseUrl + 'users/me', {\n            method: 'GET',\n            headers: this._headers\n        })\n            .then(res => res.json())\n            .then(data => data)\n    }\n\n\n  \n}\n\nexport const mainApi = new MainApi({\n    baseUrl: 'https://api.desinews.students.nomoreparties.site/',\n    headers: {\n      'Accept': \"application/json\",\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n}\n});"]},"metadata":{},"sourceType":"module"}