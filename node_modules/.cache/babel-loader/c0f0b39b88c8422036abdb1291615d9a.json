{"ast":null,"code":"import _classCallCheck from\"/Users/desireebradish/news-explorer-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/desireebradish/news-explorer-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import{apiKey}from\"./constants\";var NewsApi=/*#__PURE__*/function(){function NewsApi(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,NewsApi);this._baseUrl=baseUrl;this._headers=headers;this._apiKey=apiKey;}_createClass(NewsApi,[{key:\"getNewsCards\",value:function getNewsCards(searchTerm){var timeFrame=60*60*24*7*1000;var date=new Date();var thisDate=date.toISOString();var pastDate=new Date(date.getTime()-timeFrame);var fromDate=pastDate.toISOString();return fetch(\"\".concat(this._baseUrl,\"?q=\").concat(searchTerm,\"&from=\").concat(fromDate,\"&to=\").concat(thisDate,\"&sortBy=relevancy&apiKey=\").concat(this._apiKey)).then(function(res){if(res.ok){return res.json();}return Promise.reject(new Error(res.status));}).then(function(res){return res.articles;});}}]);return NewsApi;}();export var newsApi=new NewsApi({baseUrl:'https://nomoreparties.co/news/v2/everything',headers:{'Content-Type':'application/json'},'Content-Type':'application/json','Accept':'application/json'});","map":{"version":3,"sources":["/Users/desireebradish/news-explorer-frontend/src/utils/NewsAPI.js"],"names":["apiKey","NewsApi","baseUrl","headers","_baseUrl","_headers","_apiKey","searchTerm","timeFrame","date","Date","thisDate","toISOString","pastDate","getTime","fromDate","fetch","then","res","ok","json","Promise","reject","Error","status","articles","newsApi"],"mappings":"4PAAA,OAASA,MAAT,KAAuB,aAAvB,C,GAGMC,CAAAA,O,yBACJ,sBAAkC,IAApBC,CAAAA,OAAoB,MAApBA,OAAoB,CAAXC,OAAW,MAAXA,OAAW,+BAChC,KAAKC,QAAL,CAAgBF,OAAhB,CACA,KAAKG,QAAL,CAAgBF,OAAhB,CACA,KAAKG,OAAL,CAAeN,MAAf,CACD,C,gDAEF,sBAAaO,UAAb,CAAyB,CACvB,GAAMC,CAAAA,SAAS,CAAG,GAAK,EAAL,CAAU,EAAV,CAAe,CAAf,CAAmB,IAArC,CACK,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAb,CACA,GAAMC,CAAAA,QAAQ,CAAGF,IAAI,CAACG,WAAL,EAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIH,CAAAA,IAAJ,CAASD,IAAI,CAACK,OAAL,GAAiBN,SAA1B,CAAjB,CACA,GAAMO,CAAAA,QAAQ,CAAGF,QAAQ,CAACD,WAAT,EAAjB,CAGD,MAAOI,CAAAA,KAAK,WAAI,KAAKZ,QAAT,eAAuBG,UAAvB,kBAA0CQ,QAA1C,gBAAyDJ,QAAzD,qCAA6F,KAAKL,OAAlG,EAAL,CAEPW,IAFO,CAEF,SAACC,GAAD,CAAQ,CACZ,GAAIA,GAAG,CAACC,EAAR,CAAW,CACT,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CACD,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAe,GAAIC,CAAAA,KAAJ,CAAUL,GAAG,CAACM,MAAd,CAAf,CAAP,CACD,CAPO,EAQPP,IARO,CAQF,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACO,QAAR,EARD,CAAP,CAUF,C,uBAKL,MAAO,IAAMC,CAAAA,OAAO,CAAG,GAAIzB,CAAAA,OAAJ,CAAY,CAC/BC,OAAO,CAAE,6CADsB,CAE/BC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFsB,CAG/B,eAAgB,kBAHe,CAI3B,SAAU,kBAJiB,CAAZ,CAAhB","sourcesContent":["import { apiKey } from \"./constants\";\n\n\nclass NewsApi {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    this._apiKey = apiKey;\n  }\n  \n getNewsCards(searchTerm) {\n   const timeFrame = 60 * 60 * 24 * 7 * 1000;\n        const date = new Date();\n        const thisDate = date.toISOString();\n        const pastDate = new Date(date.getTime() - timeFrame);\n        const fromDate = pastDate.toISOString();\n\n\n       return fetch(`${this._baseUrl}?q=${searchTerm}&from=${fromDate}&to=${thisDate}&sortBy=relevancy&apiKey=${this._apiKey}`)\n\n      .then((res) =>{\n        if (res.ok){\n          return res.json();\n        }\n        return Promise.reject(new Error(res.status));\n      })\n      .then(res => res.articles);\n\n    }\n}\n\n\n\nexport const newsApi = new NewsApi({\n    baseUrl: 'https://nomoreparties.co/news/v2/everything',\n    headers: { 'Content-Type': 'application/json' },\n    'Content-Type': 'application/json',\n        'Accept': 'application/json'\n});"]},"metadata":{},"sourceType":"module"}